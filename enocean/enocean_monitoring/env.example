# .env.example
# Copy this file to .env and configure for your setup

# ============================================================================
# Serial Port Configuration
# ============================================================================
# Your EnOcean USB300 device path
# Linux examples: /dev/ttyUSB0, /dev/ttyUSB1
# macOS examples: /dev/cu.usbserial-FT6U7YM1, /dev/ttys013
# Windows examples: COM3, COM4
ENOCEAN_DEVICE=/dev/ttys013

# Serial communication baud rate (typically 57600 for USB300)
ENOCEAN_BAUD=57600

# ============================================================================
# MQTT Configuration
# ============================================================================
# MQTT broker hostname or IP address
# Use 'localhost' when running gateway locally with Docker MQTT
# Use 'emqx' when running gateway inside Docker
MQTT_BROKER=localhost

# MQTT broker port (usually 1883 for non-SSL, 8883 for SSL)
MQTT_PORT=1883

# Base topic for all EnOcean messages
MQTT_TOPIC=enocean/sensors

# Unique client ID for this gateway instance
MQTT_CLIENT_ID=enocean_gateway

# ============================================================================
# Optional: MQTT Authentication (uncomment if needed)
# ============================================================================
# MQTT username (if required by broker)
# MQTT_USERNAME=your_username

# MQTT password (if required by broker)
# MQTT_PASSWORD=your_password

# Enable MQTT SSL/TLS (true/false)
# MQTT_SSL=false

# ============================================================================
# Application Settings
# ============================================================================
# Enable debug logging (true/false)
DEBUG=true

# Device configuration file
CONFIG_FILE=devices.json

# Storage backend type: json, sqlite, postgresql (json is recommended)
STORAGE_TYPE=json

# ============================================================================
# Web Interface Configuration
# ============================================================================
# Web dashboard host (0.0.0.0 allows external access, 127.0.0.1 is local only)
WEB_HOST=0.0.0.0

# Web dashboard port
WEB_PORT=5003

# ============================================================================
# Monitoring & Metrics Configuration
# ============================================================================
# Enable monitoring and health checks
MONITORING_ENABLED=true

# Prometheus metrics port
METRICS_PORT=9095

# Serial connection failure threshold before alerting
SERIAL_FAILURE_THRESHOLD=3

# Serial connection timeout in seconds
SERIAL_TIMEOUT=30

# Database failure threshold before alerting
DB_FAILURE_THRESHOLD=5

# Database operation timeout in seconds
DB_TIMEOUT=60

# Number of retry attempts for failed packets
PACKET_RETRY_ATTEMPTS=3

# ============================================================================
# InfluxDB Configuration (for Docker stack)
# ============================================================================
# InfluxDB authentication token
INFLUX_TOKEN=enocean-super-secret-auth-token

# InfluxDB organization name
INFLUX_ORG=enocean

# InfluxDB bucket name for sensor data
INFLUX_BUCKET=sensors

# InfluxDB host (use localhost when accessing from host machine)
INFLUX_HOST=localhost

# InfluxDB port
INFLUX_PORT=8086

# ============================================================================
# Optional: Database Configuration (if using sqlite/postgresql)
# ============================================================================
# For SQLite storage (uncomment if STORAGE_TYPE=sqlite)
# DATABASE_FILE=devices.db

# For PostgreSQL storage (uncomment if STORAGE_TYPE=postgresql)
# DATABASE_URL=postgresql://user:password@localhost:5432/enocean

# ============================================================================
# Docker & Container Configuration
# ============================================================================
# Container network name (for Docker Compose)
COMPOSE_PROJECT_NAME=enocean

# Data persistence directory
DATA_DIR=./data

# Logs directory
LOGS_DIR=./logs

# ============================================================================
# Grafana Configuration
# ============================================================================
# Grafana admin username
GF_SECURITY_ADMIN_USER=admin

# Grafana admin password
GF_SECURITY_ADMIN_PASSWORD=admin

# ============================================================================
# EMQX Configuration
# ============================================================================
# EMQX dashboard username
EMQX_DASHBOARD_DEFAULT_USERNAME=admin

# EMQX dashboard password
EMQX_DASHBOARD_DEFAULT_PASSWORD=public

# ============================================================================
# Advanced Settings
# ============================================================================
# Log level (DEBUG, INFO, WARNING, ERROR)
LOG_LEVEL=INFO

# Maximum log file size in MB
MAX_LOG_SIZE=10

# Number of log files to keep
LOG_BACKUP_COUNT=5

# Device discovery timeout in seconds
DEVICE_DISCOVERY_TIMEOUT=60

# Packet processing queue size
PACKET_QUEUE_SIZE=1000

# Enable packet validation (true/false)
VALIDATE_PACKETS=true

# Enable automatic device learning (true/false)
AUTO_LEARN_DEVICES=true

# Device learning timeout in seconds
LEARNING_TIMEOUT=300